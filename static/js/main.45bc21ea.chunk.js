(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{10:function(e,t,c){e.exports={MovieList:"MovieList_MovieList__2uXh-",MovieListItem:"MovieList_MovieListItem__3_b3r",MovieListItemOverlay:"MovieList_MovieListItemOverlay__39pZv",MovieListItemImage:"MovieList_MovieListItemImage__1BeSL",MovieListItemImageWrapper:"MovieList_MovieListItemImageWrapper__2RRlQ",MovieListItemOverlayDescription:"MovieList_MovieListItemOverlayDescription__3yybI"}},13:function(e,t,c){e.exports={navigation:"Navigation_navigation__1VtLy",link:"Navigation_link__12o2K",activeLink:"Navigation_activeLink__2rUFB"}},14:function(e,t,c){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchFormButton:"Searchbar_SearchFormButton__21S85",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__8f9cn",SearchFormInput:"Searchbar_SearchFormInput__VhsfU"}},20:function(e,t,c){e.exports={Cast:"Cast_Cast__1sx6z",CastItem:"Cast_CastItem__2sFLJ",actorName:"Cast_actorName__1I9EI"}},29:function(e,t,c){e.exports={ButtonLoadMore:"ButtonLoadMore_ButtonLoadMore__2ZTsa"}},30:function(e,t,c){e.exports={Reviews:"Reviews_Reviews__1TG9u"}},42:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),i=c(17),s=c.n(i),r=c(8),o=c(13),j=c.n(o),l=c(1),b=function(){return Object(l.jsxs)("nav",{className:j.a.navigation,children:[Object(l.jsx)(r.c,{exact:!0,to:"/",className:j.a.link,activeClassName:j.a.activeLink,children:"Home"}),Object(l.jsx)(r.c,{to:"/movies",className:j.a.link,activeClassName:j.a.activeLink,children:"Movies"})]})},u=c(2),h=c(12),m=c(4),v=c(24),d=c.n(v),O=c(28),x="https://api.themoviedb.org/3";function p(){return f.apply(this,arguments)}function f(){return(f=Object(O.a)(d.a.mark((function e(){var t,c,a,n=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",c=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,fetch(t,c);case 4:if(!(a=e.sent).ok){e.next=11;break}return e.next=8,a.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not Found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=c(10),g=c.n(_),S=function(e){var t=e.movies;return Object(l.jsx)("ul",{className:g.a.MovieList,children:t.map((function(e){return Object(l.jsx)("li",{className:g.a.MovieListItem,children:Object(l.jsx)(r.b,{to:"/movies/".concat(e.id),id:e.id,className:g.a.MovieListItemUrl,children:Object(l.jsxs)("div",{className:g.a.MovieListItemImageWrapper,children:[e.poster_path?Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.title,className:g.a.MovieListItemImage}):Object(l.jsx)("img",{src:"http://placehold.it/432x648/000000/FFFFFF/?text=There+is+no+poster",alt:e.name}),Object(l.jsx)("div",{className:g.a.MovieListItemOverlay,children:Object(l.jsx)("p",{className:g.a.MovieListItemOverlayDescription,children:e.title})})]})})},e.id)}))})},F=c(29),I=c.n(F),L=function(e){var t=e.onClick;return Object(l.jsx)("button",{className:I.a.ButtonLoadMore,onClick:t,children:"Load more"})};var M=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)(1),s=Object(m.a)(i,2),r=s[0],o=s[1];return Object(a.useEffect)((function(){var e;(e=r,p("".concat(x,"/trending/movie/day?api_key=d9642dccb373084b38b1ae3b08bc851f&page=").concat(e))).then((function(e){n((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e.results))}))}))}),[r]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Trending today"}),Object(l.jsx)(S,{movies:c}),Object(l.jsx)(L,{onClick:function(){return o((function(e){return e+1}))}})]})},N=c(19),y=c(14),k=c.n(y),w=function(e){var t=e.onSubmit,c=Object(a.useState)(""),n=Object(m.a)(c,2),i=n[0],s=n[1];return Object(l.jsx)("div",{className:k.a.Searchbar,children:Object(l.jsxs)("form",{className:k.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===i.trim())return N.b.error("Please do not use empty string, you have to write something");t(i),s("")},children:[Object(l.jsx)("button",{type:"submit",className:k.a.SearchFormButton,children:Object(l.jsx)("span",{className:k.a.SearchFormButtonLabel,children:"Search"})}),Object(l.jsx)("input",{className:k.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:i,onChange:function(e){s(e.currentTarget.value)}})]})})};var C=function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),s=Object(m.a)(i,2),r=s[0],o=s[1],j=Object(a.useState)(1),b=Object(m.a)(j,2),v=b[0],d=b[1],O=Object(u.f)();return Object(a.useEffect)((function(){""===c?n(O.location.search.slice(7,O.location.search.length)):function(e,t){return p("".concat(x,"/search/movie?api_key=d9642dccb373084b38b1ae3b08bc851f&language=en-US&query=").concat(e,"&page=").concat(t,"&include_adult=false"))}(c,v).then((function(e){if(0===e.total_results)throw new Error("Nothing with name ".concat(c," was not found"));o((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e.results))})),O.push("?query=".concat(c))}))}),[v,O,c]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(w,{onSubmit:function(e){n((function(t){if(t!==e)return o([]),d(1),e}))}}),0===r.length?Object(l.jsx)("h1",{children:"Start to search"}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(S,{movies:r}),Object(l.jsx)(L,{onClick:function(){return d((function(e){return e+1}))}})]}),Object(l.jsx)(N.a,{})]})},B=c(20),D=c.n(B);var P=function(e){var t=e.movieId,c=Object(a.useState)([]),n=Object(m.a)(c,2),i=n[0],s=n[1];return Object(a.useEffect)((function(){var e;(e=t,p("".concat(x,"/movie/").concat(e,"/credits?api_key=d9642dccb373084b38b1ae3b08bc851f&language=en-US"))).then((function(e){return s(e.cast)}))}),[t]),Object(l.jsx)(l.Fragment,{children:0===i.length?Object(l.jsx)("p",{children:"We don't have any information about actors for this movie"}):Object(l.jsx)("ul",{className:D.a.Cast,children:i.map((function(e){return Object(l.jsxs)("li",{className:D.a.CastItem,children:[e.profile_path?Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.profile_path),alt:e.name}):Object(l.jsx)("img",{src:"http://placehold.it/200x300/000000/FFFFFF/?text=There+is+no+photo",alt:e.name}),Object(l.jsx)("p",{className:D.a.actorName,children:e.name})]},e.id)}))})})},E=c(30),R=c.n(E);var U=function(e){var t=e.movieId,c=Object(a.useState)([]),n=Object(m.a)(c,2),i=n[0],s=n[1];return Object(a.useEffect)((function(){var e;(e=t,p("".concat(x,"/movie/").concat(e,"/reviews?api_key=d9642dccb373084b38b1ae3b08bc851f&language=en-US&page=1"))).then((function(e){e.results!==[]&&s(e.results)}))}),[t]),Object(l.jsx)(l.Fragment,{children:0===i.length?Object(l.jsx)("p",{children:"We don't have any reviews for this movie"}):Object(l.jsx)("ul",{className:R.a.Reviews,children:i.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsx)("h4",{children:e.author}),Object(l.jsx)("p",{children:e.content})]},e.id)}))})})},T=function(){var e=Object(u.f)();return Object(l.jsx)("button",{onClick:function(){return e.goBack()},children:"Go Back"})},W=c(9),G=c.n(W);var J=function(){var e=Object(u.g)().movieId,t=Object(u.h)().url,c=Object(a.useState)(null),n=Object(m.a)(c,2),i=n[0],s=n[1];return Object(a.useEffect)((function(){var t;(t=e,p("".concat(x,"/movie/").concat(t,"?api_key=d9642dccb373084b38b1ae3b08bc851f&language=en-US"))).then((function(e){s(e),console.log(document.body)}))}),[e]),Object(l.jsx)(l.Fragment,{children:i&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(T,{}),Object(l.jsxs)("div",{className:G.a.MovieDetailsPage,children:[i.poster_path?Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(i.poster_path),alt:i.title,className:G.a.MovieDetailsPageImage}):Object(l.jsx)("img",{src:"http://placehold.it/432x648/000000/FFFFFF/?text=There+is+no+poster",alt:i.name}),Object(l.jsxs)("div",{className:G.a.description,children:[Object(l.jsxs)("h2",{className:G.a.title,children:[i.title," (",i.release_date,")"]}),Object(l.jsxs)("p",{children:["User Score : ",10*i.vote_average,"% "]}),Object(l.jsx)("h3",{className:G.a.title,children:"Overview"}),Object(l.jsx)("p",{children:i.overview}),Object(l.jsx)("h3",{className:G.a.title,children:"Genres"}),Object(l.jsx)("ul",{children:i.genres.map((function(e){return Object(l.jsx)("li",{className:G.a.genre,children:e.name},e.id)}))}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{className:G.a.title,children:"Additional information"}),Object(l.jsx)("p",{children:Object(l.jsx)(r.c,{to:"".concat(t,"/cast"),children:"Cast"})}),Object(l.jsx)("p",{children:Object(l.jsx)(r.c,{to:"".concat(t,"/reviews"),children:"Reviews"})})]})]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(u.a,{path:"".concat(t,"/cast"),children:Object(l.jsx)(P,{movieId:e})}),Object(l.jsx)(u.a,{path:"".concat(t,"/reviews"),children:Object(l.jsx)(U,{movieId:e})})]})]})})};var q=function(){return Object(l.jsx)("h1",{children:"404 Page not found :("})},z=(c(42),function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(b,{}),Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{exact:!0,path:"/",children:Object(l.jsx)(M,{})}),Object(l.jsx)(u.a,{exact:!0,path:"/movies",children:Object(l.jsx)(C,{})}),Object(l.jsx)(u.a,{path:"/movies/:movieId",children:Object(l.jsx)(J,{})}),Object(l.jsx)(u.a,{children:Object(l.jsx)(q,{})})]})]})});c(43),c(44),c(45),c(46);s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(r.a,{children:Object(l.jsx)(z,{})})}),document.getElementById("root"))},9:function(e,t,c){e.exports={MovieDetailsPage:"MovieDetailsPage_MovieDetailsPage__1_97L",MovieDetailsPageImage:"MovieDetailsPage_MovieDetailsPageImage__ppjtk",title:"MovieDetailsPage_title__3szsB",description:"MovieDetailsPage_description__gREDN"}}},[[47,1,2]]]);
//# sourceMappingURL=main.45bc21ea.chunk.js.map